
The following files have been changed 

List of File Changes
--------------------------------------------------------------------
1. The Mifos Iteration6 compiled code is packaged in lib/Mifosrmp_i6.jar
2. src/org/mifos/framework/components/logger/LoggerConstants.java
3. src/org/mifos/framework/security/util/ActivityMapper.java
4. src/org/mifos/framework/security/util/resources/SecurityConstants.java
5. src/org/mifos/META-INF/struts-config.xml
6. src/org/mifos/framework/util/resources/hibernate.cfg.xml
7. list of library files
---------------------------------------------------------------------

Details of files changed
-------------------------
 
for log purpose
--------------------
src/org/mifos/framework/components/logger/LoggerConstants.java
 
_/**
     * Logger for Reports
     */
   
    public String REPORTSLOGGER="org.mifos.application.reports";
   
 
for roles permissions
----------------------------
src/org/mifos/framework/security/util/ActivityMapper.java
src/org/mifos/framework/security/util/resources/SecurityConstants.java
 
In activity mapper:
activityMap.put("/reportsAction-load",SecurityConstants.VIEW);
       
        activityMap.put("/reportsAction-report_designer",SecurityConstants.CLIENTSDETAILVIEW);
        activityMap.put("/reportsAction-product_history",SecurityConstants.CLIENTSPRODUCTHISTORY);
       
        activityMap.put("/reportsAction-branch_performance",SecurityConstants.BRANCHPERFORMANCE);
        activityMap.put("/reportsAction-area_performance",SecurityConstants.AREAPERFORMANCE);
       
        activityMap.put("/reportsAction-collection_sheet",SecurityConstants.COLLECTIONSHEET);
       
       
        activityMap.put("/reportsAction-loan_distribution",SecurityConstants.LOANDISTRIBUTION);
        activityMap.put("/reportsAction-branch_disbursement",SecurityConstants.BRANCHDISBURSEMENT);
       
        activityMap.put("/reportsAction-staffwise_report",SecurityConstants.STAFFWISEREPORT);
        activityMap.put("/reportsAction-branchwise_report",SecurityConstants.BRANCHWISEREPORT);
       
        activityMap.put("/reportsAction-analysis",SecurityConstants.ANALYSIS);
        activityMap.put("/reportsAction-kendra_meeting",SecurityConstants.KENDRA_MEETING);   
       
        activityMap.put("/reportsAction-administerreports_path",SecurityConstants.ADMINISTER_REPORTS);
        activityMap.put("/reportsAction-administerreportslist_path",SecurityConstants.ADMINISTER_REPORTS);
        activityMap.put("/reportsParamsAction-load",SecurityConstants.ADMINISTER_REPORTS);
        activityMap.put("/reportsParamsAction-loadList",SecurityConstants.ADMINISTER_REPORTS);
       
        activityMap.put("/reportsParamsAction-createParams",SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsParamsAction-deleteParams",SecurityConstants.ADMINISTER_REPORTPARAMS);
       
       
        activityMap.put("/reportsParamsAction-reportparams_path", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsParamsAction-reportparamsadd_path", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsParamsAction-reportparamslist_path", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsParamsAction-loadView", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsParamsAction-reportparamsview_path", SecurityConstants.ADMINISTER_REPORTPARAMS);
       
       
        activityMap.put("/reportsDataSourceAction-load",SecurityConstants.ADMINISTER_REPORTDS);
        activityMap.put("/reportsDataSourceAction-loadList",SecurityConstants.ADMINISTER_REPORTDS);
        activityMap.put("/reportsDataSourceAction-createDataSource",SecurityConstants.ADMINISTER_REPORTDS);
        activityMap.put("/reportsDataSourceAction-deleteDataSource",SecurityConstants.ADMINISTER_REPORTDS);
        activityMap.put("/reportsDataSourceAction-loadView", SecurityConstants.ADMINISTER_REPORTDS);
       
       
        activityMap.put("/reportsDataSourceAction-reportdatasource_path", SecurityConstants.ADMINISTER_REPORTDS);
        activityMap.put("/reportsDataSourceAction-reportdatasourceadd_path", SecurityConstants.ADMINISTER_REPORTDS);
        activityMap.put("/reportsDataSourceAction-reportdatasourcelist_path", SecurityConstants.ADMINISTER_REPORTDS);
        activityMap.put("/reportsDataSourceAction-reportdatasourceview_path", SecurityConstants.ADMINISTER_REPORTDS);
       
        activityMap.put("/reportsParamsMapAction-loadAddList", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsParamsMapAction-createParamsMap", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsParamsMapAction-deleteParamsMap", SecurityConstants.ADMINISTER_REPORTPARAMS);
       
        activityMap.put("/reportsParamsMapAction-reportparamsmapaddlist_path", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsParamsMapAction-reportparamsmap_path", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsUploadAction-uploadReport", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsUploadAction-administerreports_path", SecurityConstants.ADMINISTER_REPORTPARAMS);
       
        activityMap.put("/reportsUserParamsAction-reportuserparamslist_path", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsUserParamsAction-loadAddList", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsUserParamsAction-processReport", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsUserParamsAction-reportsuserprocess_path", SecurityConstants.ADMINISTER_REPORTPARAMS);
       
        activityMap.put("/reportsUserParamsAction-reportsuserprocess_path", SecurityConstants.ADMINISTER_REPORTPARAMS);
        activityMap.put("/reportsUserParamsAction-reportsuserprocess_path", SecurityConstants.ADMINISTER_REPORTPARAMS);
  
in security constants:
public final short ADMINISTER_REPORTPARAMS = 142;
    public final short ADMINISTER_REPORTDS = 142;
  
 
for actions and forwards of report portal module
------------------------------------------------------------
src/org/mifos/META-INF/struts-config.xml
 
<form-bean name="reportsParamsActionForm"
                type="org.mifos.application.reports.struts.actionforms.ReportsParamsActionForm" />

        <form-bean name="reportsUserParamsActionForm"
                type="org.mifos.application.reports.struts.actionforms.ReportsUserParamsActionForm" />

        <form-bean name="reportsDataSourceActionForm"
                type="org.mifos.application.reports.struts.actionforms.ReportsDataSourceActionForm" />
        <form-bean name="reportsParamsMapActionForm"
                type="org.mifos.application.reports.struts.actionforms.ReportsParamsMapActionForm" />
        <form-bean name="reportsUploadActionForm"
                type="org.mifos.application.reports.struts.actionforms.ReportsUploadActionForm" />
in report action:
<forward name="administerreports_path" path="/pages/application/reports/jsp/report_designer.jsp" />
            <forward name="administerreportslist_path" path="/reportsAction.do?method=getAdminReportPage" />
<!--  Reports Params Action -->
        <action path="/reportsParamsAction"
            type="org.mifos.application.reports.struts.action.ReportsParamsAction"
            name="reportsParamsActionForm" parameter="method" scope="session"
            input="/reportsParamsAction.do?method=validate"
            validate="false">
            <forward name="reportparamslist_path" path="/pages/application/reports/jsp/report_designer_params_list.jsp" />
<forward name="reportparams_path"
                path="/reportsParamsAction.do?method=loadList" />
           
<forward name="reportparamsadd_path" path="/pages/application/reports/jsp/report_designer_params_add.jsp" />
<forward name="reportparamsview_path" path="/pages/application/reports/jsp/report_designer_params_view.jsp" />

        </action>       
        <!--  Reports Params Action End -->

       
<!--  Reports DataSource Action -->
        <action path="/reportsDataSourceAction"
            type="org.mifos.application.reports.struts.action.ReportsDataSourceAction"
            name="reportsDataSourceActionForm" parameter="method" scope="session"
            input="/reportsDataSourceAction.do?method=validate"
            validate="false">
            <forward name="reportdatasourcelist_path" path="/pages/application/reports/jsp/report_designer_datasource_list.jsp" />
<forward name="reportdatasource_path"
                path="/reportsDataSourceAction.do?method=loadList" />
<forward name="reportdatasourceadd_path" path="/pages/application/reports/jsp/report_designer_datasource_add.jsp" />
<forward name="reportdatasourceview_path" path="/pages/application/reports/jsp/report_designer_datasource_view.jsp" />


        </action>       
        <!--  Reports DataSource Action End -->

<!--  Reports Params Map Action -->
        <action path="/reportsParamsMapAction"
            type="org.mifos.application.reports.struts.action.ReportsParamsMapAction"
            name="reportsParamsMapActionForm" parameter="method" scope="session"
            input="/reportsParamsMapAction.do?method=validate"
            validate="false">
            <forward name="reportparamsmapaddlist_path" path="/pages/application/reports/jsp/report_designer_paramsmap_listadd.jsp" />
            <forward name="reportparamsmap_path"
                path="/reportsParamsMapAction.do?method=loadAddList" />
        </action>       
        <!--  Reports Params Map Action End -->

<!--  ReportsUploadAction -->
        <action path="/reportsUploadAction"
            type="org.mifos.application.reports.struts.action.ReportsUploadAction"
            name="reportsUploadActionForm" parameter="method" scope="session"
            input="/reportsUploadAction.do?method=validate"
            validate="false">
            <forward name="administerreports_path" path="/pages/application/reports/jsp/report_designer.jsp" />

        </action>       
        <!--  Reports Upload Action End -->


<!--ReportsUserParamsAction-->
<action path="/reportsUserParamsAction"
            type="org.mifos.application.reports.struts.action.ReportsUserParamsAction"
            name="reportsUserParamsActionForm" parameter="method" scope="session"
            input="/reportsUserParamsAction.do?method=validate"
            validate="false">
   
        <forward name="reportuserparamslist_path" path="/pages/application/reports/jsp/report_user_params.jsp" />
<forward name="reportsuserprocess_path" path="/pages/application/reports/jsp/reportsView.jsp" />
        </action>       
        <!--  Reports UserParams Action End -->


 
for configuring the hibernate xmls of report portal module
------------------------------------------------------------------------
src/org/mifos/framework/util/resources/hibernate.cfg.xml
 
<mapping resource="org/mifos/application/reports/business/ReportsParams.hbm.xml" />
    <mapping resource="org/mifos/application/reports/business/ReportsParamsValue.hbm.xml" />
    <mapping resource="org/mifos/application/reports/business/ReportsDataSource.hbm.xml" />
    <mapping resource="org/mifos/application/reports/business/ReportsParamsMapValue.hbm.xml" />
    <mapping resource="org/mifos/application/reports/business/ReportsParamsMap.hbm.xml" />
    <mapping resource="org/mifos/application/reports/business/ReportsJasperMap.hbm.xml" />
   
 
New jar files for jasper reports and viewing in pdf report are:
---------------------------------------------------------------------------
 
commons-digester-1.7.jar (has version conflict with mifos commons-digester.jar)
itext-1.3.1.jar
itext-license.txt
jasperreports-1.2.1.jar
jasperreports-query-1.1.0.jar


