<?xml version="1.0" encoding='UTF-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
                            "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                            "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >



<hibernate-mapping>

    <class name="org.mifos.application.master.util.valueobjects.StatusFlag" table="CUSTOMER_STATE_FLAG">
        <id name="flagId" column="FLAG_ID"  unsaved-value="-1">
            <generator class="native"/>
        </id>
        
  	<property name="lookUpId" column="FLAG_LOOKUP_ID"  />
  	<property name="statusId" column="STATUS_ID"  />
  	<property name="flagDescription" column="FLAG_DESCRIPTION"  />
  	<property name="isBlacklisted" column="ISBLACKLISTED"  />
  	
  	
        <set name="lookUpValueLocale" >
          <key column ="LOOKUP_ID"
           property-ref="lookUpId"/>
          
          <one-to-many  class="org.mifos.application.master.util.valueobjects.LookUpValueLocale" />
        </set>


       
    </class>
        
     <query name="masterdata.statusflag">
		 	        	   <![CDATA[select new org.mifos.application.master.util.valueobjects.FlagMaster(statusflag.statusId ,statusflag.flagId, lookUp.lookUpValue)  from org.mifos.application.master.util.valueobjects.StatusFlag statusflag,org.mifos.application.master.util.valueobjects.Status status,org.mifos.application.master.util.valueobjects.LookUpValueLocale lookUp where statusflag.lookUpId = lookUp.lookUpId and lookUp.localeId=:localeId  and status.statusId = statusflag.statusId and status.levelId=:levelId  ]]>
	           </query>

     		<query name="masterdata.specificstatusflag">
		 	        	   <![CDATA[select new org.mifos.application.master.util.valueobjects.FlagMaster(statusflag.statusId ,statusflag.flagId, lookUp.lookUpValue)  from org.mifos.application.master.util.valueobjects.StatusFlag statusflag,org.mifos.application.master.util.valueobjects.Status status,org.mifos.application.master.util.valueobjects.LookUpValueLocale lookUp where statusflag.lookUpId = lookUp.lookUpId and lookUp.localeId=:localeId and status.statusId = statusflag.statusId and status.levelId=:levelId and status.statusId=:specificStatusId ]]>
	           </query>
	           
	<query name="masterdata.isBlacklisted">
		 	      <![CDATA[select statusflag.isBlacklisted  from org.mifos.application.master.util.valueobjects.StatusFlag statusflag where statusflag.flagId=:flagId   ]]>
	           </query>
	           
	<query name="masterdata.getFlagName">
		 	      <![CDATA[select lookUp.lookUpValue  from org.mifos.application.master.util.valueobjects.StatusFlag statusflag,org.mifos.application.master.util.valueobjects.LookUpValueLocale lookUp where statusflag.lookUpId = lookUp.lookUpId and lookUp.localeId=:localeId and statusflag.flagId=:flagId   ]]>
	           </query>

</hibernate-mapping>