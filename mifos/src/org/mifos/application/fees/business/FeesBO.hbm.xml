<?xml version="1.0" encoding='UTF-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
                            "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                            "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >
<hibernate-mapping>
	<class name="org.mifos.application.fees.business.FeesBO" table="FEES">
		<id name="feeId" column="FEE_ID" type="short" unsaved-value="null">
			<generator class="native" />
		</id>
		<version name="versionNo" column="VERSION_NO" type="integer" unsaved-value="null" />
		<property name="globalFeeNum" column="GLOBAL_FEE_NUM" type="string" />
		<property name="feeName" column="FEE_NAME" type="string" />
		<property name="rateOrAmount" column="RATE_OR_AMOUNT" type="double" />
		<property name="rateFlatFlag" column="RATE_FLAT_FALG" type="short" />
		<property name="createdDate" column="CREATED_DATE" />
		<property name="createdBy" column="CREATED_BY" />
		<property name="updatedDate" column="UPDATED_DATE" />
		<property name="updatedBy" column="UPDATED_BY" />

		<property name="rate" column="RATE" type="double" />
		<property name="feeAmount" type="org.mifos.framework.util.helpers.MoneyCompositeUserType">
			<column name="FEE_AMOUNT_CURRENCY_ID" />
			<column name="FEE_AMOUNT" />
		</property>

		<many-to-one name="feeFormula" column="FORMULA_ID" class="org.mifos.application.fees.business.FeeFormulaEntity" insert="true" update="false" />
		<many-to-one name="categoryType" column="CATEGORY_ID" class="org.mifos.application.fees.business.CategoryTypeEntity" update="false" insert="true" />
		<many-to-one name="office" column="OFFICE_ID" class="org.mifos.application.office.business.OfficeBO" insert="true" update="false" />
		<many-to-one name="glCodeEntity" column="GLCODE_ID" class="org.mifos.application.accounts.financial.business.GLCodeEntity" lazy="true" insert="true" update="false" />
		<many-to-one name="feeStatus" column="STATUS" class="org.mifos.application.fees.business.FeeStatusEntity" insert="true" update="true" />

		<one-to-one name="feeFrequency" class="org.mifos.application.fees.business.FeeFrequencyEntity" cascade="all" property-ref="fee" lazy="false" />
		<set name="feeLevels" cascade="all" inverse="true" table="FEELEVEL">
			<key column="FEE_ID" not-null="false" />
			<one-to-many class="org.mifos.application.fees.business.FeeLevelEntity" />
		</set>
	</class>
</hibernate-mapping>
