<?xml version="1.0" encoding='UTF-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
                            "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                            "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >



<hibernate-mapping>

    <class name="org.mifos.application.accounts.util.valueobjects.AccountFlagDetail" table="ACCOUNT_FLAG_DETAIL">
        <id name="accountFlagId" column="ACCOUNT_FLAG_ID"  unsaved-value="-1">
            <generator class="native"/>
        </id>
        
  	<property name="accountId" column="ACCOUNT_ID"  type="integer"/>
  	<property name="flagId" column="FLAG_ID" type="short" />
  	<property name="createdBy" column="CREATED_BY"  type="short"/>
  	<property name="createdDate" column="CREATED_DATE"  type="date"/>
    </class>
    
    <!-- Get the account flag based on the accountId , The order is descending because i get the lastest record by just getting the 0th record from the result set	-->
	<query name="accounts.getAccountFlag">
		<![CDATA[from org.mifos.application.accounts.util.valueobjects.AccountFlagDetail accountFlagDetail where accountFlagDetail.accountId=:accountId
					order by accountFlagDetail.accountFlagId desc
					 ]]>
	</query>
	    
</hibernate-mapping>