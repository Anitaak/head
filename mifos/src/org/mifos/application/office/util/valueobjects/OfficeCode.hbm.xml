<?xml version="1.0" encoding='UTF-8'?>
<!DOCTYPE hibernate-mapping PUBLIC
                            "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                            "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >


<hibernate-mapping>

	<class
		name="org.mifos.application.office.util.valueobjects.OfficeCode"
		table="OFFICE_CODE">
		<id name="codeId" column="CODE_ID" type="short">
			<generator class="native" />
		</id>

		
		<property name="lookUpId" column="LOOKUP_ID"  />
		

	        <set name="lookUpValueLocale" >
		          <key column ="LOOKUP_ID"
		           property-ref="lookUpId"/>
		          
		          <one-to-many  class="org.mifos.application.master.util.valueobjects.LookUpValueLocale" />
        	</set>
		
	
	</class>

         <query name="getofficelcode">
	        	 <!--   <![CDATA[select new org.mifos.application.master.util.valueobjects.OfficeCodeMaster(code.codeId ,code.lookUpValueLocale.lookUpValue) from org.mifos.application.office.util.valueobjects.OfficeCode  code where code.lookUpValueLocale.locale.localeId=:localeId]]> -->
	        	 <![CDATA[select new org.mifos.application.master.util.valueobjects.OfficeCodeMaster(code.codeId ,lookUp.lookUpValue) from org.mifos.application.office.util.valueobjects.OfficeCode  code,org.mifos.application.master.util.valueobjects.LookUpValueLocale lookUp where code.lookUpId = lookUp.lookUpId and lookUp.localeId=:localeId ]]>
          </query>



</hibernate-mapping>