<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
   <modelVersion>4.0.0</modelVersion>
   <groupId>org.mifos</groupId>
   <artifactId>gazelle</artifactId>
   <packaging>war</packaging>
   <version>0.0.4-SNAPSHOT</version>
   <name>Mifos - Gazelle Application</name>
   <parent>
      <groupId>org.mifos</groupId>
      <artifactId>mifos-parent</artifactId>
      <version>0.0.4-SNAPSHOT</version>
   </parent>

   <build>
      <finalName>mifos-from-maven</finalName>
      <defaultGoal>war:war</defaultGoal>
      <plugins>
		<plugin>
			<groupId>org.apache.maven.plugins</groupId>
			<artifactId>maven-war-plugin</artifactId>
			<version>2.0.2</version>
			<configuration>
				<webResources>
					<resource>
						<directory>reporting/BirtReportDesign</directory>
						<targetPath>report</targetPath>
					</resource>
                    <resource>
                        <directory>reporting/BirtReportResource</directory>
                        <targetPath>report/BirtReportResource</targetPath>
                    </resource>
                    <resource>
                        <directory>reporting/BirtWebViewer</directory>
                        <excludes>
                            <exclude>*.jsp</exclude>
                            <exclude>*.rptdesign</exclude>
                            <exclude>**/web.xml</exclude>
                        </excludes>
                    </resource>
				</webResources>
			</configuration>
		</plugin>
    	<plugin>
        	<groupId>com.mobilvox.ossi.mojo</groupId>
        	<artifactId>maven-js-plugin</artifactId>
        	<version>1.3.1</version>
            <configuration>
				<!-- Whether to merge the WAR files into one or not. -->
				<mergeWarFiles>true</mergeWarFiles>
				<!-- The classifier for compressed files. -->
				<classifier>js-compressed</classifier>
				<!-- Whether to replace JS files in the site and custom goals. -->
				<replaceJavaScript>true</replaceJavaScript>
				<!-- Includes and excludes for compression (should we exclude birt?)-->
				<includes>
					<include>**/**.js</include>
				</includes>
				<!-- Input and output directories for the custom MOJO. -->
				<jsDirectory>target/mifos/pages</jsDirectory>
				<outputDirectory>target/mifos/pages</outputDirectory>
			</configuration>
			<!-- Not sure if package phase is where this should go. -->
			<executions>
				<execution>
					<phase>package</phase>
					<goals>
						<goal>compress</goal>
					</goals>
				</execution>
			</executions>	
      	</plugin>
      </plugins>
   </build>
</project>
