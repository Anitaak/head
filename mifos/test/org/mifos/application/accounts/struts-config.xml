<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
"http://jakarta.apache.org/struts/dtdt/struts-config_1_2.dtd">


<struts-config>
	<form-beans>
	
		<form-bean name="accountAppActionForm" type="org.mifos.application.accounts.struts.actionforms.AccountAppActionForm"></form-bean>
				<form-bean name="savingsActionForm"
			type="org.mifos.application.accounts.savings.struts.actionforms.SavingsActionForm" />
		
		<!-- Apply Adjustment action form  -->
		<form-bean name="applyAdjustmentActionForm" type="org.mifos.application.accounts.struts.actionforms.ApplyAdjustmentActionForm" />
		<!-- apply charge action form-->
		<form-bean name="ApplyChargeActionForm" type="org.mifos.application.accounts.struts.actionforms.ApplyChargeActionForm" />
		<!-- Apply Payment Action Form for account -->
		<form-bean name="applyPaymentActionForm" type="org.mifos.application.accounts.struts.actionforms.AccountApplyPaymentActionForm" />
		<form-bean name="editStatusActionForm" type="org.mifos.application.accounts.struts.actionforms.EditStatusActionForm" />
		<form-bean name="notesActionForm" type="org.mifos.application.accounts.struts.actionforms.NotesActionForm" />
		<form-bean name="loanAccountActionForm" type="org.mifos.application.accounts.loan.struts.actionforms.LoanAccountActionForm" />
		<!-- Disburse loan-->
		<form-bean name="loanDisbursmentActionForm" type="org.mifos.application.accounts.loan.struts.actionforms.LoanDisbursmentActionForm"></form-bean>
		<!-- Repay Loan -->
		<form-bean name="repayLoanActionForm" type="org.mifos.application.accounts.loan.struts.actionforms.RepayLoanActionForm"></form-bean>
		<form-bean name="accountStatusActionForm" type="org.mifos.application.accounts.loan.struts.actionforms.AccountStatusActionForm"></form-bean>
	</form-beans>
	<global-exceptions>
		<exception type="org.mifos.framework.exceptions.SystemException" handler="org.mifos.framework.exceptions.MifosExceptionHandler" key="exception.framework.SystemException" scope="request" path="/pages/framework/jsp/error.jsp" />
		<exception type="org.mifos.framework.exceptions.ApplicationException" handler="org.mifos.framework.exceptions.MifosExceptionHandler" key="exception.framework.ApplicationException" scope="request" />
		<exception type="org.mifos.framework.exceptions.PageExpiredException" handler="org.mifos.framework.exceptions.MifosExceptionHandler" key="exception.framework.PageExpiredException" scope="request" path="/pages/framework/jsp/pageexpirederror.jsp" />
	</global-exceptions>

	<action-mappings>
		<action path="/accountAppAction" type="org.mifos.application.accounts.struts.action.AccountAppAction" parameter="method" scope="session" name="accountAppActionForm" validate="true" input="/accountAppAction.do?method=validate">
			<forward name="remove_success" path="/loanAccountAction.do?method=get" />
			<forward name="getTransactionHistory_success" path="/pages/application/jsp/viewtrxnhistory.jsp" />

		</action>
		<action path="/savingsAction" type="org.mifos.application.accounts.savings.struts.action.SavingsAction" 
      		name="savingsActionForm" 
       		parameter="method"	
       		validate="true"
       		input="/savingsAction.do?method=validate"
       		scope="session">
       		<forward name="getPrdOfferings_success" path="/pages/application/savings/jsp/createsavingsaccount.jsp"/>
       		<forward name="load_success" path="/pages/application/savings/jsp/continuecreatesavingsaccount.jsp"/>
       		<forward name="preview_success" path="/pages/application/savings/jsp/createsavingsaccountpreview.jsp"/>
       		<forward name="previous_success" path="/pages/application/savings/jsp/continuecreatesavingsaccount.jsp"/>
       		<forward name="create_success" path="/pages/application/savings/jsp/createsavingsaccountconfirmation.jsp" />
       		<forward name="get_success" path="/pages/application/savings/jsp/savingsaccountdetail.jsp" />
       		<forward name="edit_success" path="/pages/application/savings/jsp/editsavingsaccount.jsp" />
       		<forward name="editPreview_success" path="/pages/application/savings/jsp/previewsavingsaccount.jsp" />
       		<forward name="editPrevious_success" path="/pages/application/savings/jsp/editsavingsaccount.jsp" />
       		<forward name="update_success" path="/savingsAction.do?method=get" />       		       		       		       		
       		<forward name="preview_faliure" path="/pages/application/savings/jsp/continuecreatesavingsaccount.jsp" />       		
       		<forward name="editPreview_faliure" path="/pages/application/savings/jsp/editsavingsaccount.jsp" />       		       		       		
       		<forward name="getRecentActivity_success" path="/pages/application/savings/jsp/viewsavingsaccountactivity.jsp" />       		       		       		       		       		
       		<forward name="getTransactionHistory_success" path="/pages/application/savings/jsp/viewsavingstrxnhistory.jsp" />       		       		       		       		       		
       		<forward name="depositduedetails_success" path="/pages/application/savings/jsp/savingsaccountdepositduedetails.jsp" />
       		<forward name="waiveAmount_success" path="/savingsAction.do?method=getDepositDueDetails" />
       		<forward name="getStatusHistory_success" path="/pages/application/savings/jsp/viewstatuschangehistory.jsp" />
 		</action>
		<action path="/applyAdjustment" type="org.mifos.application.accounts.struts.action.ApplyAdjustment" name="applyAdjustmentActionForm" parameter="method" validate="true" input="/pages/application/accounts/jsp/applyadjustment.jsp" scope="session">
			<forward name="loadadjustment_success" path="/pages/application/accounts/jsp/applyadjustment.jsp" />
			<forward name="loadAdjustment_failure" path="/pages/application/accounts/jsp/applyadjustment.jsp" />
			<forward name="previewadj_success" path="/pages/application/accounts/jsp/applyadjustment.jsp" />
			<forward name="canceladj_success" path="/loanAccountAction.do?method=get" />
			<forward name="applyadj_success" path="/loanAccountAction.do?method=get" />
			<forward name="previewAdjustment_failure" path="/pages/application/accounts/jsp/applyadjustment.jsp" />
			<forward name="cancelAdjustment_failure" path="/pages/application/accounts/jsp/applyadjustment.jsp" />
			<forward name="applyAdjustment_failure" path="/pages/application/accounts/jsp/applyadjustment.jsp" />
		</action>
		<action path="/applyChargeAction" type="org.mifos.application.accounts.struts.action.ApplyChargeAction" parameter="method" name="ApplyChargeActionForm" input="/applyChargeAction.do?method=validate" validate="true" scope="session">
			<forward name="load_success" path="/pages/application/accounts/jsp/applyCharges.jsp"></forward>
			<forward name="update_failure" path="/pages/application/accounts/jsp/applyCharges.jsp"></forward>
			<forward name="loanDetails_success" path="/loanAccountAction.do?method=get"></forward>
			<forward name="clientDetails_success" path="/closedaccsearchaction.do?method=search&amp;input=ViewClientCharges&amp;searchNode(search_name)=ClientChargesDetails" />
			<forward name="groupDetails_success" path="/closedaccsearchaction.do?method=search&amp;input=ViewGroupCharges&amp;searchNode(search_name)=ClientChargesDetails" />
			<forward name="centerDetails_success" path="/closedaccsearchaction.do?method=search&amp;input=ViewCenterCharges&amp;searchNode(search_name)=ClientChargesDetails" />
		</action>
		<action path="/applyPaymentAction" type="org.mifos.application.accounts.struts.action.AccountApplyPaymentAction" name="applyPaymentActionForm" parameter="method" input="/applyPaymentAction.do?method=validate" scope="session" validate="true">
			<forward name="load_success" path="/pages/application/account/jsp/applypayment.jsp" />
			<forward name="preview_success" path="/pages/application/account/jsp/reviewapplypayment.jsp" />
			<forward name="previous_success" path="/pages/application/account/jsp/applypayment.jsp" />
			<forward name="loan_detail_page" path="/loanAccountAction.do?method=get" />
		</action>
		<action path="/editStatusAction" type="org.mifos.application.accounts.struts.action.EditStatusAction" name="editStatusActionForm" parameter="method" input="/editStatusAction.do?method=validate" validate="true" scope="session">
			<forward name="load_success" path="/pages/application/accounts/jsp/change_status.jsp" />
			<forward name="loan_detail_page" path="/loanAccountAction.do?method=get" />
			<forward name="savings_details_page" path="/savingsAction.do?method=get" />
			<forward name="preview_success" path="/pages/application/accounts/jsp/change_status_preview.jsp" />
			<forward name="previous_success" path="/pages/application/accounts/jsp/change_status.jsp" />
			<forward name="update_failure" path="/pages/application/accounts/jsp/change_status_preview.jsp" />
			<forward name="preview_failure" path="/pages/application/accounts/jsp/change_status.jsp" />
		</action>
		<!-- Notes action -->
		<action path="/notesAction" type="org.mifos.application.accounts.struts.action.NotesAction" name="notesActionForm" parameter="method" validate="true" input="/notesAction.do?method=validate" scope="session">
			<forward name="load_success" path="/pages/application/accounts/jsp/account_addnotes.jsp" />
			<forward name="search_success" path="/pages/application/accounts/jsp/account_notes.jsp" />
			<forward name="preview_success" path="/pages/application/accounts/jsp/account_previewnotes.jsp" />
			<forward name="previous_success" path="/pages/application/accounts/jsp/account_addnotes.jsp" />
			<forward name="loan_detail_page" path="/loanAccountAction.do?method=get" />
			<forward name="savings_details_page" path="/savingsAction.do?method=get" />
			<forward name="preview_failure" path="/pages/application/accounts/jsp/account_addnotes.jsp" />
			<forward name="create_failure" path="/pages/application/accounts/jsp/account_previewnotes.jsp" />
		</action>
		<action path="/loanAccountAction" type="org.mifos.application.accounts.loan.struts.action.LoanAccountAction" name="loanAccountActionForm" parameter="method" input="/loanAccountAction.do?method=validate" scope="session" validate="true">
			<forward name="viewInstmentDetails_success" path="/pages/application/loan/jsp/nextPayment_loanAccount.jsp" />
			<forward name="getAllActivity_success" path="/pages/application/loan/jsp/viewloanaccountactivity.jsp" />
			<forward name="get_success" path="/pages/application/loan/jsp/loanaccountdetail.jsp" />
			<forward name="getLoanRepaymentSchedule" path="/pages/application/loan/jsp/loanRepayment.jsp" />
			<forward name="viewStatusHistory" path="/pages/application/loan/jsp/viewLoanStatusHistory.jsp" />
			<forward name="getPrdOfferigs_success" path="/pages/application/loan/jsp/loancreationprdofferingselect.jsp" />
			<forward name="load_success" path="/pages/application/loan/jsp/loancreationdetails.jsp" />
			<forward name="schedulePreview_success" path="/pages/application/loan/jsp/schedulePreview.jsp" />
			<forward name="preview_success" path="/pages/application/loan/jsp/createloanpreview.jsp" />
			<forward name="create_success" path="/pages/application/loan/jsp/CreateLoanAccountConfirmation.jsp" />
			<forward name="manage_success" path="/pages/application/loan/jsp/editLoanAccount.jsp" />
			<forward name="managepreview_success" path="/pages/application/loan/jsp/editPreviewLoanAccount.jsp" />
			<forward name="managepreview_failure" path="/pages/application/loan/jsp/editLoanAccount.jsp" />
			<forward name="update_success" path="/loanAccountAction.do?method=get" />
			<forward name="update_failure" path="/pages/application/loan/jsp/editPreviewLoanAccount.jsp" />
			<forward name="manageprevious_success" path="/pages/application/loan/jsp/editLoanAccount.jsp" />
			<forward name="loan_detail_page" path="/loanAccountAction.do?method=get" />
			<forward name="viewLoanChangeLog" path="/pages/application/accounts/loan/jsp/viewChangeLog.jsp" />
			<forward name="cancelLoanChangeLog" path="/loanAccountAction.do?method=get" />
			<forward name="waiveLoanAccountCharges_Success" path="/loanAccountAction.do?method=getInstallmentDetails"/>

		</action>
		<!-- Loan Disbursment-->
		<action path="/loanDisbursmentAction" type="org.mifos.application.accounts.loan.struts.action.LoanDisbursmentAction" parameter="method" scope="session" name="loanDisbursmentActionForm" validate="true"
			input="/loanDisbursmentAction.do?method=validate">
			<forward name="load_success" path="/pages/application/loan/jsp/DisburseLoan.jsp" />
			<forward name="preview_success" path="/pages/application/loan/jsp/Review_loanDisbursment.jsp" />
			<forward name="preview_failure" path="/pages/application/loan/jsp/DisburseLoan.jsp" />
			<forward name="previous_success" path="/pages/application/loan/jsp/DisburseLoan.jsp" />
			<forward name="update_success" path="/loanAction.do?method=get" />
			<forward name="update_failure" path="/pages/application/loan/jsp/Review_loanDisbursment.jsp" />
		</action>
		<!-- Repay Loan-->

		<action path="/repayLoanAction" type="org.mifos.application.accounts.loan.struts.action.RepayLoanAction" parameter="method" scope="session" name="repayLoanActionForm" validate="true" input="/repayLoanAction.do?method=validate">
			<forward name="load_success" path="/pages/application/loan/jsp/RepayLoan.jsp" />
			<forward name="preview_success" path="/pages/application/loan/jsp/Review_RepayLoan.jsp" />
			<forward name="previous_success" path="/pages/application/loan/jsp/RepayLoan.jsp" />
			<forward name="update_success" path="/loanAccountAction.do?method=get" />

		</action>
		<action path="/ChangeAccountStatus"
				type="org.mifos.application.accounts.loan.struts.action.AccountStatusAction"
				name="accountStatusActionForm"
				parameter="method"
				validate="true"
				input="/ChangeAccountStatus.do?method=validate"
				scope="session">
			<forward name="changeAccountStatus_success" path="/pages/application/loan/jsp/changeaccountstatus.jsp" />
			<forward name="changeAccountStatusSearch_success" path="/pages/application/loan/jsp/statussearchresults.jsp" />
			<forward name="changeAccountStatusConfirmation_success" path="/pages/application/loan/jsp/confirmation.jsp" />
			<forward name="noresultfound" path="/pages/application/loan/jsp/nosearchresult.jsp" />
		</action>
	</action-mappings>
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames" value="org/mifos/application/accounts/validation.xml,org/mifos/application/accounts/validator-rules.xml" />
		<set-property property="stopOnFirstError" value="false" />
	</plug-in>
</struts-config>
