<?xml version="1.0" encoding="UTF-8"?>

<!--
	Document   : struts-config.xml
	Created on : August 22, 2005
	Author     : ashishsmital
	Description: Purpose of the document follows.
-->

<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
"http://jakarta.apache.org/struts/dtdt/struts-config_1_2.dtd">


<struts-config>
	<form-beans>
		<form-bean name="clientCustActionForm" type="org.mifos.application.customer.client.struts.actionforms.ClientCustActionForm">
		</form-bean>
		<form-bean name="clientTransferActionForm"
			type="org.mifos.application.customer.client.struts.actionforms.ClientTransferActionForm">
		</form-bean>
	</form-beans>
	<global-exceptions>
		<exception type="org.mifos.framework.exceptions.SystemException"
			handler="org.mifos.framework.exceptions.MifosExceptionHandler"
			key="exception.framework.SystemException" scope="request"
			path="/pages/framework/jsp/error.jsp" />
		<exception
			type="org.mifos.framework.exceptions.ApplicationException"
			handler="org.mifos.framework.exceptions.MifosExceptionHandler"
			key="exception.framework.ApplicationException" scope="request" />
		<exception type="org.mifos.framework.exceptions.PageExpiredException" handler="org.mifos.framework.exceptions.MifosExceptionHandler" key="exception.framework.PageExpiredException" scope="request" path="/pages/framework/jsp/pageexpirederror.jsp"/>
	</global-exceptions>

	<action-mappings>
	

	<action path="/clientCustAction" type="org.mifos.application.customer.client.struts.action.ClientCustAction" 
			name="clientCustActionForm" parameter="method" 
			input="/clientCustAction.do?method=validate" validate="true"
			scope="session">
			<forward name="load_success" path="/pages/application/client/jsp/create_ClientPersonalInfo.jsp" />
			<!--  Next forwards -->
			<forward name="next_success" path="/pages/application/client/jsp/create_ClientMfiInfo.jsp" />
			<!-- <forward name="previous_success" path="/pages/application/client/jsp/createClientMfiInfo.jsp" /> -->
			<forward name="next_failure" path="/pages/application/client/jsp/create_ClientPersonalInfo.jsp" />
			<!-- Preview Page Forwards -->
			<forward name="preview_success" path="/pages/application/client/jsp/preview_ClientDetails.jsp" />
			<forward name="preview_failure" path="/pages/application/client/jsp/create_ClientMfiInfo.jsp" />
			<forward name="previewPersonalInfo_success" path="/pages/application/client/jsp/preview_ClientDetails.jsp" />
			<forward name="previewPersonalInfo_failure" path="/pages/application/client/jsp/edit_ClientPersonalInfo.jsp" />
			<forward name="previewMfiInfo_failure" path="/pages/application/client/jsp/create_ClientMfiInfo.jsp" />
			<forward name="previewEditPersonalInfo_success" path="/pages/application/client/jsp/preview_EditClientPersonalInfo.jsp" />
			<forward name="previewEditPersonalInfo_failure" path="/pages/application/client/jsp/edit_ClientPersonalInfo.jsp" />
			<forward name="previewEditMfiInfo_success" path="/pages/application/client/jsp/preview_EditClientMfiInfo.jsp" />
			<forward name="previewEditMfiInfo_failure" path="/pages/application/client/jsp/edit_ClientMfiInfo.jsp" />
			 
			 <!-- Preview Page Forwards End -->
			<!-- Previous Page Forwards -->
			<forward name="prevPersonalInfo_success" path="/pages/application/client/jsp/create_ClientPersonalInfo.jsp" />
			<forward name="prevEditPersonalInfo_success" path="/pages/application/client/jsp/edit_ClientPersonalInfo.jsp" />
			<forward name="prevMFIInfo_success" path="/pages/application/client/jsp/create_ClientMfiInfo.jsp" />
			<forward name="prevEditMfiInfo_success" path="/pages/application/client/jsp/edit_ClientMfiInfo.jsp" />
			<!-- Previous Page Forwards End -->
			<forward name="get_success" path="/pages/application/client/jsp/viewClientDetails.jsp" />
			<forward name="create_success" path="/pages/application/client/jsp/client_creationConfirmation.jsp" />
			<forward name="create_failure" path="/pages/application/client/jsp/preview_ClientDetails.jsp" />
			<forward name="editPersonalInfo_success" path="/pages/application/client/jsp/edit_ClientPersonalInfo.jsp" />
			<forward name="editMfiInfo_success" path="/pages/application/client/jsp/edit_ClientMfiInfo.jsp" />
			<forward name="updatePersonalInfo_success" path="/clientCustAction.do?method=get" />
			<forward name="updatePersonalInfo_failure" path="/pages/application/client/jsp/preview_EditClientPersonalInfo.jsp" />
			<forward name="updateMfiInfo_success" path="/clientCustAction.do?method=get" />
			<forward name="updateMfiInfo_failure" path="/pages/application/client/jsp/preview_EditClientMfiInfo.jsp" />
			<forward name="loadStatus_success" path="/clientStatusAction.do?method=load" />
			<forward name="loadTransfer_success" path="/clientTransferAction.do?method=loadGroupTransfer" />
			<forward name="loadBranchTransfer_success" path="/clientTransferAction.do?method=loadTransfer" />
			<forward name="loadHistoricalData_success" path="/CustomerHistoricalDataAction.do?method=get&amp;input=Client" />
			<forward name="loadMeeting_success" path="/MeetingAction.do?method=load&amp;input=Client" />
			<forward name="loadEditMeeting_success" path="/MeetingAction.do?method=load&amp;input=ClientDetails" />
			<forward name="updateMeeting_success" path="/clientCreationAction.do?method=get" />
			<forward name="retrievePicture_success" path="/pages/application/client/jsp/customerPicture.jsp" />
			<forward name="getPicture_success" path="/pages/application/client/jsp/clientPicture.jsp" />
			<forward name="chooseOffice_success" path="/pages/application/client/jsp/chooseOffice.jsp" />
			<forward name="failure" path="/error.jsp" />
			<!-- Cancel Page Forwards -->
			<forward name="cancelCreate_success" path="/CustomerSearchAction.do?method=load" />
			<forward name="cancelEdit_success" path="/clientCustAction.do?method=get" />
		</action>
		<!-- Edit Client Transfer Action -->
		<action path="/clientTransferAction" type="org.mifos.application.customer.client.struts.action.ClientTransferAction" name="clientTransferActionForm" parameter="method" input="/clientTransferAction.do?method=validate" validate="false"
			scope="session">
			<!--  Load forwards -->
			<forward name="loadParents_success" path="/GroupAction.do?method=loadSearch" />
			<forward name="loadBranches_success" path="/pages/application/client/jsp/choosebranch.jsp" />
			<!-- Preview Page Forwards -->
			<forward name="previewParentTransfer_success" path="/pages/application/client/jsp/confirmParentTransfer.jsp" />
			<forward name="previewBranchTransfer_success" path="/pages/application/client/jsp/confirmbranchtransfer.jsp" />
			<forward name="update_success" path="/clientCustAction.do?method=get" />
			<!-- Failure Forwards -->
			<forward name="transferToBranch_failure" path="/pages/application/client/jsp/confirmbranchtransfer.jsp" />
			<forward name="updateParent_failure" path="/pages/application/client/jsp/confirmParentTransfer.jsp" />
			<!-- Cancel Page Forwards -->
			<forward name="cancel_success" path="/clientCustAction.do?method=get" />
		</action>
	</action-mappings>
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="org/mifos/application/customer/client/validation.xml,org/mifos/application/customer/client/validator-rules.xml" />
		<set-property property="stopOnFirstError" value="false" />
	</plug-in>
</struts-config>
