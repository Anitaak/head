<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
"http://jakarta.apache.org/struts/dtdt/struts-config_1_2.dtd">
<struts-config>
	<form-beans>
		<form-bean name="labelconfigurationactionform" type="org.mifos.application.configuration.struts.actionform.LabelConfigurationActionForm"></form-bean>
		<form-bean name="hiddenmandatoryconfigurationactionform" type="org.mifos.application.configuration.struts.actionform.HiddenMandatoryConfigurationActionForm"></form-bean>
		<form-bean name="lookupoptionsactionform" type="org.mifos.application.configuration.struts.actionform.LookupOptionsActionForm"></form-bean>
        <form-bean name="customfieldsactionform" type="org.mifos.application.configuration.struts.actionform.CustomFieldsActionForm"></form-bean>
	</form-beans>
	<global-exceptions>
		<exception type="org.mifos.framework.exceptions.SystemException" handler="org.mifos.framework.exceptions.MifosExceptionHandler" key="exception.framework.SystemException" scope="request" path="/pages/framework/jsp/error.jsp" />
		<exception type="org.mifos.framework.exceptions.ApplicationException" handler="org.mifos.framework.exceptions.MifosExceptionHandler" key="exception.framework.ApplicationException" scope="request" />
		<exception type="org.mifos.framework.exceptions.PageExpiredException" handler="org.mifos.framework.exceptions.MifosExceptionHandler" key="exception.framework.PageExpiredException" scope="request" path="/pages/framework/jsp/pageexpirederror.jsp" />
	</global-exceptions>
	<action-mappings>
		<action path="/labelconfigurationaction" type="org.mifos.application.configuration.struts.action.LabelConfigurationAction" name="labelconfigurationactionform" parameter="method" input="/labelconfigurationaction.do?method=validate" validate="true"
			scope="session">
			<forward name="load_success" path="/pages/application/configuration/jsp/definelabels.jsp" />
			<forward name="load_failure" path="/pages/application/admin/jsp/admin.jsp" />
			<forward name="update_success" path="/pages/application/admin/jsp/admin.jsp" />
			<forward name="update_failure" path="/pages/application/configuration/jsp/definelabels.jsp" />
			<forward name="cancel_success" path="/pages/application/admin/jsp/admin.jsp" />
			<forward name="cancel_failure" path="/pages/application/admin/jsp/admin.jsp" />
		</action>
		<action path="/hiddenmandatoryconfigurationaction" type="org.mifos.application.configuration.struts.action.HiddenMandatoryConfigurationAction" name="hiddenmandatoryconfigurationactionform" parameter="method" input="/hiddenmandatoryconfigurationaction.do?method=validate"
			validate="true" scope="session">
			<forward name="load_success" path="/pages/application/configuration/jsp/definehiddenmandatoryfields.jsp" />
			<forward name="load_failure" path="/pages/application/admin/jsp/admin.jsp" />
			<forward name="update_success" path="/pages/application/admin/jsp/admin.jsp" />
			<forward name="update_failure" path="/pages/application/configuration/jsp/definehiddenmandatoryfields.jsp" />
			<forward name="cancel_success" path="/pages/application/admin/jsp/admin.jsp" />
			<forward name="cancel_failure" path="/pages/application/admin/jsp/admin.jsp" />
		</action>
		<action path="/lookupOptionsAction" type="org.mifos.application.configuration.struts.action.LookupOptionsAction" name="lookupoptionsactionform" parameter="method" input="/lookupOptionsAction.do?method=validate"
			validate="true" scope="session">
			<forward name="load_success" path="/pages/application/configuration/jsp/definelookupoptions.jsp" />
			<forward name="load_failure" path="/pages/application/admin/jsp/admin.jsp" />
			<forward name="addEditLookupOption_success" path="/pages/application/configuration/jsp/defineonelookupoption.jsp" />
			<forward name="addEditLookupOption_failure" path="/lookupOptionsAction.do?method=load" />
            <forward name="addEditLookupOption_cancel_success" path="/lookupOptionsAction.do?method=load" />
            <forward name="addEditLookupOption_cancel_failure" path="/lookupOptionsAction.do?method=load" />
			<forward name="update_success" path="/lookupOptionsAction.do?method=load" />
			<forward name="update_failure" path="/pages/application/configuration/jsp/defineonelookupoption.jsp" />
			<forward name="cancel_success" path="/pages/application/admin/jsp/admin.jsp" />
			<forward name="cancel_failure" path="/pages/application/admin/jsp/admin.jsp" />
		</action>
        <action path="/customFieldsAction" type="org.mifos.application.configuration.struts.action.CustomFieldsAction" name="customfieldsactionform" parameter="method" input="/customFieldsAction.do?method=validate"
            validate="true" scope="session">
            <forward name="load_success" path="/pages/application/configuration/jsp/view_additional_field_categories.jsp" />
            <forward name="load_failure" path="/pages/application/admin/jsp/admin.jsp" />
            <forward name="update_success" path="/pages/application/admin/jsp/admin.jsp" />
            <forward name="update_failure" path="/pages/application/configuration/jsp/preview_additional_fields.jsp" />
            <forward name="cancel_success" path="/pages/application/admin/jsp/admin.jsp" />
            <forward name="cancel_failure" path="/pages/application/admin/jsp/admin.jsp" />
            <forward name="loadDefineCustomFields_success" path="/pages/application/configuration/jsp/define_additional_fields.jsp" />
            <forward name="loadDefineCustomFields_failure" path="/pages/application/admin/jsp/admin.jsp" />
            <forward name="preview_success" path="/pages/application/admin/jsp/admin.jsp" />
            <forward name="preview_failure" path="/pages/application/configuration/jsp/define_additional_fields.jsp"  />
        </action>
	</action-mappings>
	<!-- Configuration -->
	<message-resources key="configurationUIResources" parameter="org.mifos.application.configuration.util.resources.ConfigurationUIResources"></message-resources>
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames" value="org/mifos/application/configuration/validation.xml,org/mifos/application/configuration/validator-rules.xml" />
		<set-property property="stopOnFirstError" value="false" />
	</plug-in>
</struts-config>