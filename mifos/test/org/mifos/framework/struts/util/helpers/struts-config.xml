<?xml version="1.0" encoding="UTF-8"?>

<!--
	Document   : struts-config.xml
	Created on : August 22, 2005
	Author     : ashishsmital
	Description: Purpose of the document follows.
-->

<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
"http://jakarta.apache.org/struts/dtdt/struts-config_1_2.dtd">


<struts-config>




	<form-beans>

		<!-- Savings Product -->
		<form-bean name="savingsprdactionform"
			type="org.mifos.application.productdefinition.struts.actionforms.SavingsProductActionForm">
		</form-bean>
		<form-bean name="savingsproductactionform" type="org.mifos.application.productdefinition.struts.actionforms.SavingsPrdActionForm"></form-bean>
		<!-- Payment Types -->

	</form-beans>
	<global-exceptions>
		<exception type="org.mifos.framework.exceptions.SystemException"
			handler="org.mifos.framework.exceptions.MifosExceptionHandler"
			key="exception.framework.SystemException" scope="request"
			path="/pages/framework/jsp/error.jsp" />
		<exception
			type="org.mifos.framework.exceptions.ApplicationException"
			handler="org.mifos.framework.exceptions.MifosExceptionHandler"
			key="exception.framework.ApplicationException" scope="request" />
		<exception type="org.mifos.framework.exceptions.PageExpiredException" handler="org.mifos.framework.exceptions.MifosExceptionHandler" key="exception.framework.PageExpiredException" scope="request" path="/pages/framework/jsp/pageexpirederror.jsp"/>
	</global-exceptions>

	<global-forwards>
		<forward name="welcome" path="/loginAction.do?method=load" />
		<forward name="load_main_page" path="/pages/application/login/jsp/login.jsp"></forward>
	</global-forwards>
	<action-mappings>
	<!-- Savings Accounts action -->
       <action path="/savingsAction" type="org.mifos.application.accounts.savings.struts.action.SavingsAction"
      		name="savingsActionForm"
       		parameter="method"
       		validate="true"
       		input="/savingsAction.do?method=validate"
       		scope="session">
       		<forward name="getPrdOfferings_success" path="/pages/application/savings/jsp/createsavingsaccount.jsp"/>
       		<forward name="load_success" path="/pages/application/savings/jsp/continuecreatesavingsaccount.jsp"/>
       		<forward name="preview_success" path="/pages/application/savings/jsp/createsavingsaccountpreview.jsp"/>
       		<forward name="previous_success" path="/pages/application/savings/jsp/continuecreatesavingsaccount.jsp"/>
       		<forward name="create_success" path="/pages/application/savings/jsp/createsavingsaccountconfirmation.jsp" />
       		<forward name="get_success" path="/pages/application/savings/jsp/savingsaccountdetail.jsp" />
       		<forward name="edit_success" path="/pages/application/savings/jsp/editsavingsaccount.jsp" />
       		<forward name="editPreview_success" path="/pages/application/savings/jsp/previewsavingsaccount.jsp" />
       		<forward name="editPrevious_success" path="/pages/application/savings/jsp/editsavingsaccount.jsp" />
       		<forward name="update_success" path="/savingsAction.do?method=get" />
       		<forward name="preview_faliure" path="/pages/application/savings/jsp/continuecreatesavingsaccount.jsp" />
       		<forward name="editPreview_faliure" path="/pages/application/savings/jsp/editsavingsaccount.jsp" />
       		<forward name="getRecentActivity_success" path="/pages/application/savings/jsp/viewsavingsaccountactivity.jsp" />
       		<forward name="getTransactionHistory_success" path="/pages/application/savings/jsp/viewsavingstrxnhistory.jsp" />
       		<forward name="depositduedetails_success" path="/pages/application/savings/jsp/savingsaccountdepositduedetails.jsp" />
       		<forward name="waiveAmount_success" path="/savingsAction.do?method=getDepositDueDetails" />
       		<forward name="getStatusHistory_success" path="/pages/application/savings/jsp/viewstatuschangehistory.jsp" />
 		</action>
	</action-mappings>

	<controller nocache="true"
		processorClass="org.mifos.framework.struts.action.MifosRequestProcessor">
	</controller>
	<!-- Savings resources -->
	<message-resources key="SavingsUIResources"
		parameter="org.mifos.application.savings.util.resources.SavingsUIResources"
		factory="org.mifos.framework.struts.tags.MifosPropertyMessageResourcesFactory" />
	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config"
			value="/WEB-INF/tiles-defs.xml" />
		<set-property property="definitions-debug" value="2" />
		<set-property property="definitions-parser-details" value="2" />
		<set-property property="definitions-parser-validate"
			value="true" />
	</plug-in>
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/WEB-INF/validation.xml,/WEB-INF/validator-rules.xml" />
		<set-property property="stopOnFirstError" value="false" />
	</plug-in>
	<plug-in className="org.mifos.framework.struts.plugin.ConstPlugin">
		<set-property property="constantFileNames" value="org.mifos.framework.util.helpers.Constants,
		org.mifos.application.master.util.helpers.MasterConstants,
		org.mifos.application.customer.util.helpers.CustomerConstants,
		org.mifos.application.accounts.util.helpers.AccountStates,
		org.mifos.application.accounts.savings.util.helpers.SavingsConstants"/>
	</plug-in>
	<plug-in className="org.mifos.framework.struts.plugin.EnumPlugin">
		<set-property property="enumFileNames"
			value="org.mifos.application.fees.util.helpers.FeeFrequencyType,
		org.mifos.application.util.helpers.CustomFieldType,
		org.mifos.application.fees.util.helpers.FeeCategory,
		org.mifos.application.fees.util.helpers.FeeLevel,
		org.mifos.application.fees.util.helpers.FeePayment,
		org.mifos.application.fees.util.helpers.FeeStatus,
		org.mifos.application.fees.util.helpers.RateAmountFlag,
		org.mifos.application.meeting.util.helpers.RecurrenceType,
		org.mifos.application.meeting.util.helpers.MeetingType,
		org.mifos.application.accounts.util.helpers.AccountTypes,
		org.mifos.application.office.util.helpers.OfficeStatus,
		org.mifos.application.office.util.helpers.OfficeLevel,
		org.mifos.application.customer.util.helpers.CustomerStatus,
		org.mifos.application.customer.util.helpers.CustomerLevel,
		org.mifos.application.productdefinition.util.helpers.PrdStatus,
		org.mifos.application.accounts.util.helpers.AccountState,
		org.mifos.application.productdefinition.util.helpers.RecommendedAmountUnit" />
	</plug-in>
	<plug-in className="org.mifos.framework.struts.plugin.InitializerPlugin">
		<set-property property="hibernatePropertiesPath" value="conf/hibernate.properties" />
	</plug-in>
</struts-config>
