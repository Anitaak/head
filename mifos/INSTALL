Mifos Installation

This document is a concise guide to installing Mifos for use in a 
production environment.

1. Software Prerequisites
  Before running Mifos, you will need to download and install 
  the software packages below.  Please refer to their respective web
  sites for details on installing each package.  

    1.1. Java - JDK 1.5.0_12 (JDK 1.6 is not supported)
    1.2. MySQL - Community Edition 5.0.51b
    1.3. Apache Tomcat - 6.0.16

2. Configuring MySQL
    2.1. Database parameters 
        We recommend the following configuration settings for MySQL
        (found in my.ini in the MySQL home directory on a Windows install).
        These values can also be configured through the MySQL Administrator 
        application.

        max_connections=300
        innodb_buffer_pool_size=1024M
        log-error=mysql_error.log
        log-slow-queries=mysql_slow_query.log
        long_query_time=1

        For production environments, we also recommend customizing the 
        database connection pool settings as follows:

        hibernate.c3p0.acquire_increment=5
        hibernate.c3p0.idle_test_period=30 
        hibernate.c3p0.max_size=100
        hibernate.c3p0.max_statements=0 
        hibernate.c3p0.min_size=20 
        hibernate.c3p0.timeout=30

        See section 5.1 below (configuring mifos) for more information on
        customizing the Mifos Database Connection.

    2.3. Initializing the Mifos database
        To initialize the Mifos database run the 4 commands below
        (these commands assume a database username of "root" and
        password of "mysql", adjust them as necessary if your
        database login is different).

        mysql -u root -pmysql < sql/create_mifos_db.sql
        mysql -D mifos -u root -pmysql < sql/latest-schema.sql
        mysql -D mifos -u root -pmysql < sql/latest-data.sql
        mysql -D mifos -u root -pmysql < sql/init_mifos_password.sql

        If your database instance already has a "mifos" database, then
        you will need to drop the database before running these commands.

3. Configuring Apache Tomcat
    3.1. Java Virtual Machine and Tomcat Parameters
        Set the following environment variables:

        JAVA_HOME     ... directory where Java is installed
        CATALINA_HOME ... directory where Tomcat is installed
        CATALINA_OPTS ... "-Xms1024M -Xmx1024M"

    3.2. Installing the WAR (deployment)
        Copy into CATALINA_HOME/webapps. If the following temporary directories
        exist, they should be deleted:

        CATALINA_HOME/webapps/mifos
        CATALINA_HOME/work/Catalina/hostname/mifos

4. Configuring and Running Mifos
    4.1. Configuring Mifos
        Mifos configuration should be reviewed and adjusted as needed BEFORE
        deploying and starting Mifos the first time. See section 5.1 (below)
        for more information.
        
        A default configuration is provided, so if you just want to get Mifos
        quickly up and running to try it out, then no configuration is needed.

    4.2. Running Mifos
        Execute the Tomcat startup script in CATALINA_HOME/bin, or if Tomcat was
        installed as a service on Windows, check in Control Panel /
        Administrative Tools/Services to verify that the status is started, 
        then visit the base URL in a browser:

        http://localhost:8080/mifos

        username: mifos
        password: testmifos

5. Links to Documentation
  The following are links to more detailed information about Mifos
  which is available online.

    5.1. Configuring Mifos - http://mifos.org/developers/wiki/ConfiguringMifos
        Pay particular attention to "trapdoor" settings (settings that can't be
        changed once they have been set) in the application-wide install-time 
        configuration file. Chart of accounts configuration is one such
        "trapdoor".

    5.2. Release Notes - http://mifos.org/developers/wiki/V11
    5.3. System Recommendations (hardware, networking) - http://mifos.org/developers/wiki/MifosSystemRecommendationsV11
    5.4. Ubuntu Install Guide - http://mifos.org/developers/wiki/MifosUbuntuInstall
        This is an installation guide describing how to install Mifos by building it from the source code. 
    5.5. Windows Install Guide - http://mifos.org/developers/install-mifos/install-windows
        This is an installation guide describing how to install Mifos by building it from the source code. 
    