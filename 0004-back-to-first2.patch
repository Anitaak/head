From 439040de339b717769ea7690d52044fec304d5e8 Mon Sep 17 00:00:00 2001
From: vishnu kmit <vishnukmit@gmail.com>
Date: Thu, 10 Jun 2010 12:07:00 +0530
Subject: [PATCH 4/9] back to first2

---
 .../src/main/webapp/WEB-INF/cheetah-servlet.xml    |    1 +
 .../org/mifos/ui/freemarker/core/admin.ftl         |  110 --------------------
 .../mifos/ui/freemarker/core/blueprintmacros.ftl   |   63 -----------
 3 files changed, 1 insertions(+), 173 deletions(-)
 delete mode 100644 userInterface/src/main/resources/org/mifos/ui/freemarker/core/admin.ftl
 delete mode 100644 userInterface/src/main/resources/org/mifos/ui/freemarker/core/blueprintmacros.ftl

diff --git a/application/src/main/webapp/WEB-INF/cheetah-servlet.xml b/application/src/main/webapp/WEB-INF/cheetah-servlet.xml
index 594638a..7d8303e 100644
--- a/application/src/main/webapp/WEB-INF/cheetah-servlet.xml
+++ b/application/src/main/webapp/WEB-INF/cheetah-servlet.xml
@@ -11,6 +11,7 @@
             </list>
         </property>
     </bean>
+    
 
     <!-- freemarker config -->
     <bean id="freemarkerConfig" class="org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer">
diff --git a/userInterface/src/main/resources/org/mifos/ui/freemarker/core/admin.ftl b/userInterface/src/main/resources/org/mifos/ui/freemarker/core/admin.ftl
deleted file mode 100644
index 28fa8bd..0000000
--- a/userInterface/src/main/resources/org/mifos/ui/freemarker/core/admin.ftl
+++ /dev/null
@@ -1,110 +0,0 @@
-[#ftl]
-[#import "spring.ftl" as spring]
-[#import "blueprintmacros.ftl" as mifos]
-
-[@mifos.header "title" /]
-  [@mifos.topNavigationNoSecurity currentTab="Admin" /]
-  [#include "adminLeftPane.ftl" ] 
-    <!--  Left Sidebar Begins
-  <div class="sidebar ht750">
-    <p class="orangetab">Administrative Tasks</p>
-    <p class="paddingLeft"><span class="fontBold">Search by client name, system ID or account number</span><br />
-      <input type="text" id="txt" />
-      <br />
-      <input class="buttn" type="button" name="search" value="Search" onclick="location.href='searched.html'" />
-    </p>
-  </div>-->
-  <!--  Left Sidebar Ends-->
-   <!--  Main Content Begins-->  
-   <div>
-  <div class=" content leftMargin180">
-    <div class="orangeheading font14">[@spring.message "administrativeTasks" /]</div>
-    <p>[@spring.message "administrativeTasksWelcome" /] </p>
-    <div class="span-10 floatLT">
-      <p class="orangeheading">[@spring.message "manageOrganization" /]</p>
-      <p class="fontBold">[@spring.message "systemusers"/]</p>
-      <ul>
-        <li type="circle"><a id="admin.link.viewSysUsers" href="PersonAction.do?method=loadSearch&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}">[@spring.message "viewsystemusers"/]</a>&nbsp;|&nbsp;<a href="newUser.html">[@spring.message "definenewsystemuser" /]</a></li>
-        <li type="circle"><a id="admin.link.manageRoles" href="/rolesPermission.do?method=viewRoles&name=aa&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}">[@spring.message "managerolesandpermissions"/]</a></li>
-      </ul>
-      <p><span class="fontBold">[@spring.message "offices"/]</span>
-      <ul>
-        <li type="circle"><a id="admin.link.viewOffices" href="/offAction.do?method=getAllOffices">[@spring.message "viewOffices" /]</a>&nbsp;|&nbsp;<a href="newOffice.html">[@spring.message "defineNewOffice"/]</a></li>
-        <li type="circle"><a id="admin.link.viewOfficeHierarchy" href="/offhierarchyaction.do?method=load&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}">[@spring.message "viewofficehierarchy" /]</a></li>
-      </ul>
-      </p>
-      <p><span class="fontBold">Organization Preferences</span>
-      <ul>
-        <li type="circle"><a id="admin.link.defineNewFees" href="feeaction.do?method=load&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}" >[@spring.message "viewfees"/]</a>&nbsp;|&nbsp;<a href="newFee.html">[@spring.message "definenewfees"/]</a></li>
-        <li type="circle"><a id="admin.link.viewFunds" href="/fundAction.do?method=viewAllFunds&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}" >[@spring.message "viewfunds"/]</a>&nbsp;|&nbsp;<a href="newFund.html">[@spring.message "definenewfund"/]</a></li>
-        <li type="circle"><a id="admin.link.viewChecklists" href="chkListAction.do?method=loadAllChecklist&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}" >[@spring.message "viewchecklists"/]</a>&nbsp;|&nbsp;<a href="newChecklist.html">[@spring.message "definenewchecklist"/]</a></li>
-        <li type="circle"><a id="admin.link.viewHolidays" href="holidayAction.do?method=get" >[@spring.message "viewholidays"/]</a>&nbsp;|&nbsp;<a href="addHoliday.html">[@spring.message "definenewholidays"/]</a></li>
-        <li type="circle"><a id="admin.link.defineAcceptedPaymentType" href="acceptedPaymentTypeAction.do?method=load" >[@spring.message "defineacceptedpayments"/]</a></li>
-        <li type="circle"><a id="admin.link.viewOrganizationSettings" href="viewOrganizationSettingsAction.do?method=get" >[@spring.message "vieworganizationsettings"/]</a></li>
-        <li type="circle"><a id="admin.link.viewPPI" href="ppiAction.do?method=get" >[@spring.message "viewPPIsettings" /]</a>&nbsp;|&nbsp;<a href="configPPI.html">[@spring.message "ConfigurePPIsettings"/]</a></li>
-      </ul>
-      </p>
-      <p><span class="fontBold">[@spring.message "datadisplayandrules" /] </span>
-      <ul>
-        <li type="circle"><a id="admin.link.defineLabels" href="labelconfigurationaction.do?method=load">[@spring.message "defineLabels"/]</a></li>
-        <li type="circle"><a id="admin.link.defineLookupOption"	href="lookupOptionsAction.do?method=load">[@spring.message "defineLookupOptions"/]</a></li>
-        <li type="circle"><a id="admin.link.defineHiddenMandatoryFields" href="hiddenmandatoryconfigurationaction.do?method=load">[@spring.message "definemandatory/hiddenfields"/]</a></li>
-        <li type="circle"><a id="admin.link.viewAdditionalFields" href="customFieldsAction.do?method=load">[@spring.message "viewAdditionalFields"/]</a>&nbsp;|&nbsp;<a href="newField.html">[@spring.message "defineAdditionalFields"/]</a></li>
-      </ul>
-      </p>
-      <p class="orangeheading">[@spring.message "manageimports"/]</p>
-      <ul>
-        <li type="circle"><a id="admin.link.manageImports" href="manageImportAction.do?method=load">[@spring.message "importtransactions"/]</a></li>
-      </ul>
-      <p class="orangeheading">[@spring.message "manageinformation"/]</p>
-      <ul>
-        <li type="circle"><a id="admin.link.viewSystemInfo" href="systemInfoAction.do?method=load">[@spring.message "viewSystemInformation"/]</a></li>
-      </ul>
-    </div>
-    <div class="span-10 last">
-      <p class="orangeheading">[@spring.message "manageProducts"/]</p>
-      <p><span class="fontBold">[@spring.message "productrulesattributes"/]</span>
-      <ul>
-        <li type="circle"><a id="admin.link.viewProductCategories" href="productCategoryAction.do?method=getAllCategories&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}">[@spring.message "viewproductcategories"/]</a>&nbsp;|&nbsp;<a id="admin.link.defineNewProductCategory" href="productCategoryAction.do?method=load&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}">[@spring.message "definenewcategory"/]</a></li>
-        <li type="circle"><a id="admin.link.viewLatenessDormancyDefinition" href="prdconfaction.do?method=load">[@spring.message "viewlatenessdormancydefinition"/]</a></li>
-      </ul>
-      </p>
-      <p><span class="fontBold">[@spring.message "manageproductmix"/]</span>
-      <ul>
-        <li type="circle"><a id="admin.link.viewProductsMix" href="productMixAction.do?method=viewAllProductMix&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}">[@spring.message "viewproductsmix"/]</a>&nbsp;|&nbsp;<a id="admin.link.defineProductsMix" href="productMixAction.do?method=load&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}">[@spring.message "defineproductsmix"/]</a></li>
-      </ul>
-      </p>
-      <p><span class="fontBold">[@spring.message "manageLoanProducts"/]</span>
-      <ul>
-        <li type="circle"><a id="admin.link.viewLoanProducts" href="loanproductaction.do?method=viewAllLoanProducts&recordOfficeId=${UserContext.branchId}&recordLoanOfficerId=${UserContext.id}">[@spring.message "viewLoanProducts"/]</a>&nbsp;|&nbsp;<a href="loanProduct.html">[@spring.message "definenewLoanproduct"/]</a></li>
-      </ul>
-      </p>
-      <p><span class="fontBold">[@spring.message "manageSavingsproducts"/]</span>
-      <ul>
-        <li type="circle"><a id="admin.link.viewSavingsProducts" href="savingsproductaction.do?method=search&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}">[@spring.message "viewSavingsproducts"/]</a>&nbsp;|&nbsp;<a id="admin.link.defineNewSavingsProduct" href="savingsproductaction.do?method=load&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}">[@spring.message "definenewSavingsproduct"/]</a></li>
-      </ul>
-      </p>
-      <p class="orangeheading">[@spring.message "manageAccounts"/]</p>
-      <p><span class="fontBold">[@spring.message "manageLoanaccounts"/]</span>
-      <ul>
-        <li type="circle"><a id="admin.link.reverseLoanDisbursal" href="reverseloandisbaction.do?method=search&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}">[@spring.message "reverseLoanDisbursal"/] </a></li>
-        <li type="circle"><a id="admin.link.redoLoanDisbursal" href="loanAccountAction.do?method=redoLoanBegin&recordOfficeId=${model.request.getSession().getAttribute("UserContext").branchId}&recordLoanOfficerId=${model.request.getSession().getAttribute("UserContext").id}">[@spring.message "redoLoanDisbursal"/] </a></li>
-      </ul>
-      </p>
-      <p class="orangeheading">[@spring.message "managereports"/]</p>
-      <ul>
-        <li type="circle"><a id="admin.link.ViewAdminDocuments" href="birtAdminDocumentUploadAction.do?method=getViewBirtAdminDocumentPage">[@spring.message "viewadmindocuments"/]</a>&nbsp;|&nbsp;<a id="admin.link.uploadAdminDocuments"	href="birtAdminDocumentUploadAction.do?method=getBirtAdminDocumentUploadPage&viewPath=administerreports_path">[@spring.message "uploadadmindocuments"/]</a></li>
-        <li type="circle"><a id="admin.link.ViewReportsTemplates" href="birtReportsUploadAction.do?method=getViewReportPage">[@spring.message "viewreportstemplates"/]</a>&nbsp;|&nbsp;<a id="admin.link.uploadReportTemplate" href="birtReportsUploadAction.do?method=getBirtReportsUploadPage&viewPath=administerreports_path">[@spring.message "uploadreporttemplate"/]</a></li>
-        <li type="circle"><a id="admin.link.ViewReportsCategory" href="reportsCategoryAction.do?method=viewReportsCategory">[@spring.message "viewreportscategory"/]</a>&nbsp;|&nbsp;<a id="admin.link.defineNewCategory" href="reportsCategoryAction.do?method=loadDefineNewCategoryPage">[@spring.message "definenewreportcategory"/]</a></li>
-      </ul>
-      <p class="orangeheading">[@spring.message "managesurveys"/]</p>
-      <ul>
-        <li type="circle"><a id="admin.link.surveys" href="surveysAction.do?method=mainpage">[@spring.message "viewsurveys"/]</a>&nbsp;|&nbsp;<a id="admin.link.defineNewSurvey" href="surveysAction.do?method=create_entry">[@spring.message "definenewsurvey"/]</a></li>
-        <li type="circle"><a id="admin.link.viewQuestions" href="questionsAction.do?method=viewQuestions">[@spring.message "viewquestionbank"/]</a>&nbsp;|&nbsp;<a id="admin.link.defineQuestions" href="questionsAction.do?method=defineQuestions">[@spring.message "definequestions"/]</a></li>
-      </ul>
-    </div>
-  </div>
-</div><!--Main Content Ends "-->
-
-
-[@mifos.footer/]
\ No newline at end of file
diff --git a/userInterface/src/main/resources/org/mifos/ui/freemarker/core/blueprintmacros.ftl b/userInterface/src/main/resources/org/mifos/ui/freemarker/core/blueprintmacros.ftl
deleted file mode 100644
index 71b4e83..0000000
--- a/userInterface/src/main/resources/org/mifos/ui/freemarker/core/blueprintmacros.ftl
+++ /dev/null
@@ -1,63 +0,0 @@
-[#ftl]
-[#import "spring.ftl" as spring]
-[#assign security=JspTaglibs["http://www.springframework.org/security/tags"]]
-
-[#-- To use macros defined here add the following directive at the top of an ftl file --]
-[#-- [#import "macros.ftl" as mifos] --]
-
-[#-- header macro --]
-[#-- Generate the Mifos header with tabbed navigation --]
-[#-- currentTab values: "Home","ClientsAndAccounts","Reports","Admin" --]
-[#-- usage   [@mifos.topNavigation currentTab="Home" /] --]
-[#macro topNavigation currentTab]
-<div>
-    <div class="topAlign append-1">
-		<a href="#" title="[@spring.message "yourSettings"/]">[@spring.message "yourSettings"/]</a>
-		&nbsp;|&nbsp;
-		<a href="j_spring_security_logout" title="[@spring.message "logout"/]">[@spring.message "logout"/]</a>
-	</div>
-    <div>
-		<span class="logo"></span>
-		<span class="menu">
-			<a href="home.ftl" class="[#if currentTab == "Home"]taborange [#else]tablightorange[/#if]" title="[@spring.message "tab.Home" /]">[@spring.message "tab.Home" /]</a>
-			<a href="clientsAndAccounts.ftl" class="[#if currentTab == "Home"]taborange[#else]tablightorange[/#if]" title="[@spring.message "tab.ClientsAndAccounts" /]">[@spring.message "tab.ClientsAndAccounts" /]</a>
-			<a href="#" class="[#if currentTab == "Home"]taborange[#else]tablightorange[/#if]" title="[@spring.message "tab.Reports" /]">[@spring.message "tab.Reports" /]</a>
-			[@security.authorize ifAllGranted="ROLE_ADMIN"]
-			<a href="admin.ftl" class="[#if currentTab == "Home"]taborange[#else]tablightorange[/#if]" title="[@spring.message "tab.Admin" /]">[@spring.message "tab.Admin" /]</a>
-			[/@security.authorize]
-		</span>
-	</div>
-    <div class="clear"></div>
-    <div class="orangeline">&nbsp;</div>
-</div>
-[/#macro]
-
-[#macro topNavigationNoSecurity currentTab]
-<div>
-	<div class="topAlign append-1">
-		<span class="logo"></span>
-		<a href="#" title="[@spring.message "yourSettings"/]">[@spring.message "yourSettings"/]</a>&nbsp;|&nbsp;
-		<a href="j_spring_security_logout" title="[@spring.message "logout"/]">[@spring.message "logout"/]</a>
-	</div>
-    <div>
-		<span class="menu"><a href="home.ftl" class="[#if currentTab == "Home"]taborange[#else]tablightorange[/#if]" title="[@spring.message "tab.Home" /]">[@spring.message "tab.Home" /]</a><a href="clientsAndAccounts.ftl" class="[#if currentTab == "ClientsAndAccounts"]taborange[#else]tablightorange[/#if]" title="[@spring.message "tab.ClientsAndAccounts" /]">[@spring.message "tab.ClientsAndAccounts" /]</a><a href="#" class="[#if currentTab == "Reports"]taborange[#else]tablightorange[/#if]" title="[@spring.message "tab.Reports" /]">[@spring.message "tab.Reports" /]</a><a href="admin.ftl" class="[#if currentTab == "Admin"]taborange[#else]tablightorange[/#if]" title="[@spring.message "tab.Admin" /]">[@spring.message "tab.Admin" /]</a></span>
-	</div>
-    <div class="clear"></div>
-    <div class="orangeline">&nbsp;</div>
-</div>
-[/#macro]
-
-[#macro header pageTitle]
-<html>
-  <head>
-    <title id="${pageTitle}">[@spring.message "${pageTitle}" /]</title>
-    <link href="pages/framework/css/maincss.css" rel="stylesheet" type="text/css" />
-    <link href="pages/framework/css/screen.css" rel="stylesheet" type="text/css" />   
-  </head>
-  <body>
-[/#macro]
-[#macro footer]
-
-</body>
-</html>
-[/#macro]
-- 
1.7.0.2.msysgit.0

